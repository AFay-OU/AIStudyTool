<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.Font?>
<?import java.lang.String?>


<AnchorPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            prefWidth="800.0" prefHeight="600.0"
            fx:controller="org.aistudytool.aistudytool.FlashcardGUIController">

    <BorderPane prefWidth="800" prefHeight="600" style="-fx-background-color: #BDC2C6;">

        <top>
            <StackPane prefHeight="160" BorderPane.alignment="CENTER">
                <Path fill="#848a98" stroke="#848a98" strokeType="INSIDE">
                    <elements>
                        <MoveTo x="0" y="0" />
                        <HLineTo x="800.0" />
                        <VLineTo y="60.0" />
                        <ArcTo radiusX="320.0"
                               radiusY="60.0"
                               x="0"
                               y="60.0"
                               sweepFlag="true"/>
                    </elements>
                </Path>
                <VBox alignment="TOP_CENTER" spacing="5">
                    <MenuBar>
                        <Menu text="File">
                            <MenuItem text="Save Deck" onAction="#onSaveAllDecks"/>
                            <MenuItem text="Load Decks" onAction="#onLoadAllDecks"/>
                            <MenuItem text="New Deck" onAction="#onNewDeck"/>
                            <MenuItem text="Home" onAction="#onHome"/>
                        </Menu>
                        <Menu text="Flashcards">

                            <MenuItem text="Edit Flashcards" onAction="#onEditFlashcards"/>
                            <MenuItem text="Add New Card" onAction="#onAddCard"/>
                            <MenuItem text="Review All Cards" onAction="#onReviewAllCards"/>
                        </Menu>
                        <Menu text="Create From">
                            <MenuItem text="Screenshot" onAction="#onStartScreenshot"/>
                            <MenuItem text="PDF" onAction="#onStartPDFUpload"/>
                        </Menu>
                    </MenuBar>
                    <Label fx:id="topTitleLabel"
                           text="AI Study Tool"
                           translateY="20">
                        <font><Font name="Cambria Bold" size="30"/></font>
                    </Label>
                </VBox>
            </StackPane>
        </top>

        <center>
            <StackPane fx:id="centerStack">
                <VBox fx:id="deckListPanel"
                      alignment="TOP_CENTER"
                      VBox.vgrow="ALWAYS"
                      spacing="15"
                      prefWidth="350"
                      prefHeight="300"
                      style="-fx-background-color: #BDC2C6; -fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: transparent;">

                    <Label text="Decks"
                           style="-fx-font-size: 22; -fx-padding: 5; -fx-font-weight: bold;" />
                    <ListView fx:id="deckSummaryList"
                              prefHeight="300"
                              prefWidth="300"
                              VBox.vgrow="ALWAYS"
                              onMouseClicked="#onDeckSelected"
                              style="
              -fx-control-inner-background: #e1e1e1;
              -fx-background-insets: 0;
              -fx-padding: 0;
              -fx-control-inner-background-alt: #BDC2C6;
          "/>

                </VBox>

                <VBox fx:id="flashcardPanel"
                      alignment="CENTER"
                      spacing="20"
                      visible="false"
                      managed="false"
                      maxWidth="650"
                      maxHeight="350"
                      style="-fx-background-color: white;
                      -fx-background-radius: 10;
                      -fx-border-radius: 10;
                      -fx-padding: 20;">

                    <Label fx:id="questionLabel"
                           wrapText="true"
                           style="-fx-font-size: 20px;
                  -fx-font-weight: bold;
                  -fx-text-alignment: center;"/>

                    <Label fx:id="answerLabel"
                           wrapText="true"
                           style="-fx-font-size: 18px;
                  -fx-text-alignment: center;"/>

                    <HBox alignment="CENTER" spacing="15">
                        <Button fx:id="showAnswerButton" text="Show Answer" onAction="#onShowAnswer"/>
                        <Button fx:id="correctButton" text="Correct" onAction="#onCorrect"/>
                        <Button fx:id="wrongButton" text="Wrong" onAction="#onWrong"/>
                    </HBox>

                </VBox>


                <VBox fx:id="aiPreviewBox" visible="false" managed="false">
                    <Label fx:id="aiQuestionLabel" text="Question will appear here"/>
                    <Label fx:id="aiAnswerLabel" text="Answer will appear here"/>

                    <HBox spacing="10">
                        <Button fx:id="addToDeckButton" text="Add to Deck" onAction="#onAddToDeckButton"/>
                        <Button fx:id="retryButton" text="Retry" onAction="#onRetryAICard"/>
                        <Button fx:id="editButton" text="Edit" onAction="#onEditAICard"/>
                        <Button fx:id="cancelPreviewButton" text="Cancel" onAction="#onCancelAIPreview"/>

                    </HBox>
                </VBox>

            </StackPane>
        </center>

    </BorderPane>
</AnchorPane>
